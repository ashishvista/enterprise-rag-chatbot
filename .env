# Confluence API credentials
CONFLUENCE_BASE_URL=https://ashish-kumar.atlassian.net
CONFLUENCE_USERNAME=ashishvista@gmail.com
CONFLUENCE_API_TOKEN=ATATT3xFfGF0WocLUEYbdU7RG4kt0gbazcak-hzDvMPVnPyo5ikSfQp2h-waSQVcVQgyC1bJQGW6290qPfFc43QbeDNf1hbOuWusUgMeclt80MYlCsSHYD-xlaDXOTzK1QRyusRYPcj9dqj8RpmrMd5giPwkedixZkJFTdhs_gOgxSkSzYD6QQY=074CE44A
CONFLUENCE_SPACE_WHITELIST=Ragtestspa

# Embedding + model runtime
OLLAMA_BASE_URL=http://localhost:11434





#####chunk settings####
USE_SEMANTIC_CHUNKER=true
CHUNK_SIZE=400
CHUNK_OVERLAP=100

SEMANTIC_CHUNKER_BUFFER_SIZE=1
SEMANTIC_CHUNKER_BREAKPOINT_PERCENTILE=96
########################

#######Embedding model settings######
EMBEDDING_MODEL_NAME=qwen3-embedding:8b
EMBEDDING_DIM=4096
EMBEDDING_MAX_RETRIES=3
EMBEDDING_RETRY_BACKOFF=0.1
REQUEST_TIMEOUT=30
# CHUNK_SIZE=400
# CHUNK_OVERLAP=100
####################################

#######Retriever settings######
RETRIEVER_TOP_K=5
RETRIEVER_SEARCH_K=15
RERANKER_MODEL_NAME=BAAI/bge-reranker-v2-m3
RERANKER_TOP_N=3
RETRIEVER_MIN_SCORE=0.2
RERANKER_MIN_SCORE=0.2
#################################

# Postgres / pgvector connection string
DATABASE_URL=postgresql://rag_user:rag_password@localhost:5432/rag
VECTOR_COLLECTION=confluence_pages
VECTOR_COLLECTION_WITH_PREFIX=data_confluence_pages


LANGFUSE_DATABASE_URL=postgresql://rag_user:rag_password@pgvector-db:5432/langfuse
LANGFUSE_SECRET_KEY = "sk-lf-6a6c0c05-807f-466d-8b62-056aa3e2886b"
LANGFUSE_PUBLIC_KEY = "pk-lf-e52a2998-70a3-4a23-a83b-0032e8f85567"
LANGFUSE_HOST = "http://localhost:3000"

# Docker Compose overrides (used by docker-compose.yaml)
POSTGRES_DB=rag
POSTGRES_USER=rag_user
POSTGRES_PASSWORD=rag_password
POSTGRES_PORT=5432


# Chat LLM configuration
LLM_MODEL_NAME=qwen3:14b
LLM_TEMPERATURE=0.1
# LLM_MAX_OUTPUT_TOKENS=1024
# LLM_CONTEXT_WINDOW=4096

CONVERSATION_HISTORY_TABLE=chatbot_conversation_history
CONVERSATION_HISTORY_MAX_MESSAGES=20
RAG_CONTEXT_MAX_CHARS_PER_SOURCE=1200
CHATBOT_WORKFLOW_MERMAID_PATH=docs/chatbot_workflow.png